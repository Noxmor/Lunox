#ifndef LNX_BITBOARD_H
#define LNX_BITBOARD_H

#include "lunox/core/core.h"

#include "lunox/boards/board.h"

typedef uint64_t Bitboard;

#define LNX_BITBOARD_EMPTY 0ull
#define LNX_BITBOARD_FULL (~LNX_BITBOARD_EMPTY)

#define LNX_BITBOARD_FILE_A 0b0000000100000001000000010000000100000001000000010000000100000001ull
#define LNX_BITBOARD_FILE_B 0b0000001000000010000000100000001000000010000000100000001000000010ull
#define LNX_BITBOARD_FILE_C 0b0000010000000100000001000000010000000100000001000000010000000100ull
#define LNX_BITBOARD_FILE_D 0b0000100000001000000010000000100000001000000010000000100000001000ull
#define LNX_BITBOARD_FILE_E 0b0001000000010000000100000001000000010000000100000001000000010000ull
#define LNX_BITBOARD_FILE_F 0b0010000000100000001000000010000000100000001000000010000000100000ull
#define LNX_BITBOARD_FILE_G 0b0100000001000000010000000100000001000000010000000100000001000000ull
#define LNX_BITBOARD_FILE_H 0b1000000010000000100000001000000010000000100000001000000010000000ull

#define LNX_BITBOARD_NOT_FILE_A (~LNX_BITBOARD_FILE_A)
#define LNX_BITBOARD_NOT_FILE_B (~LNX_BITBOARD_FILE_B)
#define LNX_BITBOARD_NOT_FILE_C (~LNX_BITBOARD_FILE_C)
#define LNX_BITBOARD_NOT_FILE_D (~LNX_BITBOARD_FILE_D)
#define LNX_BITBOARD_NOT_FILE_E (~LNX_BITBOARD_FILE_E)
#define LNX_BITBOARD_NOT_FILE_F (~LNX_BITBOARD_FILE_F)
#define LNX_BITBOARD_NOT_FILE_G (~LNX_BITBOARD_FILE_G)
#define LNX_BITBOARD_NOT_FILE_H (~LNX_BITBOARD_FILE_H)

#define LNX_BITBOARD_RANK_1 0b0000000000000000000000000000000000000000000000000000000011111111ull
#define LNX_BITBOARD_RANK_2 0b0000000000000000000000000000000000000000000000001111111100000000ull
#define LNX_BITBOARD_RANK_3 0b0000000000000000000000000000000000000000111111110000000000000000ull
#define LNX_BITBOARD_RANK_4 0b0000000000000000000000000000000011111111000000000000000000000000ull
#define LNX_BITBOARD_RANK_5 0b0000000000000000000000001111111100000000000000000000000000000000ull
#define LNX_BITBOARD_RANK_6 0b0000000000000000111111110000000000000000000000000000000000000000ull
#define LNX_BITBOARD_RANK_7 0b0000000011111111000000000000000000000000000000000000000000000000ull
#define LNX_BITBOARD_RANK_8 0b1111111100000000000000000000000000000000000000000000000000000000ull

#define LNX_BITBOARD_NOT_RANK_1 (~LNX_BITBOARD_RANK_1)
#define LNX_BITBOARD_NOT_RANK_2 (~LNX_BITBOARD_RANK_2)
#define LNX_BITBOARD_NOT_RANK_3 (~LNX_BITBOARD_RANK_3)
#define LNX_BITBOARD_NOT_RANK_4 (~LNX_BITBOARD_RANK_4)
#define LNX_BITBOARD_NOT_RANK_5 (~LNX_BITBOARD_RANK_5)
#define LNX_BITBOARD_NOT_RANK_6 (~LNX_BITBOARD_RANK_6)
#define LNX_BITBOARD_NOT_RANK_7 (~LNX_BITBOARD_RANK_7)
#define LNX_BITBOARD_NOT_RANK_8 (~LNX_BITBOARD_RANK_8)

#define LNX_SIDE_WHITE 0
#define LNX_SIDE_BLACK 1

extern Bitboard white_pawn_pushs[LNX_BOARD_WIDTH * LNX_BOARD_HEIGHT];
extern Bitboard black_pawn_pushs[LNX_BOARD_WIDTH * LNX_BOARD_HEIGHT];
extern Bitboard white_pawn_attacks[LNX_BOARD_WIDTH * LNX_BOARD_HEIGHT];
extern Bitboard black_pawn_attacks[LNX_BOARD_WIDTH * LNX_BOARD_HEIGHT];
extern Bitboard knight_attacks[LNX_BOARD_WIDTH * LNX_BOARD_HEIGHT];
extern Bitboard king_attacks[LNX_BOARD_WIDTH * LNX_BOARD_HEIGHT];

void bitboard_init(void);

void bitboard_print(Bitboard bitboard, uint8_t side);

#endif